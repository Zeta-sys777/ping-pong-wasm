<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />
  <title>Pong WASM</title>
  <link rel="stylesheet" href="style.css?v=20260228-28" />
</head>
<body>
  <div class="page">
    <header class="topbar">
      <div class="brand">Pong</div>
      <div class="status" id="auth-status">–ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω –≤—Ö–æ–¥</div>
    </header>

    <main class="main">
      <section class="game">
        <div class="ai-badge" id="ai-badge">NEURAL NET ACTIVE</div>
        <div id="canvas-holder">
          <div class="speed-glow" id="speed-glow"></div>
          <div class="cyber-grid" aria-hidden="true"></div>
          <div class="arena-mode-fx" aria-hidden="true"></div>
          <div class="frame-corners" aria-hidden="true">
            <span class="corner tl"></span>
            <span class="corner tr"></span>
            <span class="corner bl"></span>
            <span class="corner br"></span>
          </div>

          <div class="hud-badges" id="hud-badges">
            <span class="badge-mini" id="badge-sync">SYNC OK</span>
            <span class="badge-mini" id="badge-ledger">LEDGER READY</span>
            <span class="badge-mini" id="badge-tx">TX IDLE</span>
          </div>

          <div class="hud-metrics" id="hud-metrics">
            <div class="metric">
              <span class="metric-label" id="metric-label-latency">Latency</span>
              <span class="metric-value" id="metric-latency">12ms</span>
            </div>
            <div class="metric">
              <span class="metric-label" id="metric-label-hash">Hash rate</span>
              <span class="metric-value" id="metric-hash">0.92 GH/s</span>
            </div>
            <div class="metric">
              <span class="metric-label" id="metric-label-entropy">Entropy</span>
              <span class="metric-value" id="metric-entropy">0.61</span>
            </div>
          </div>

          <button class="sound-toggle" id="sound-toggle">–ó–≤—É–∫: –í–∫–ª</button>
          <button class="pause-toggle" id="btn-pause-desktop">–ü–∞—É–∑–∞</button>
          <div class="terminal-log" id="terminal-log">> SESSION: IDLE</div>
          <canvas id="canvas" oncontextmenu="event.preventDefault()" tabindex="0"></canvas>
        </div>

        <div class="mobile-matchbar" id="mobile-matchbar">
          <span id="mobile-mode">2 –∏–≥—Ä–æ–∫–∞</span>
          <span id="mobile-score">0 - 0</span>
        </div>

        <div class="touch-controls" id="touch-controls">
          <div class="touch-col">
            <button class="touch-btn" id="touch-left-up">L‚Üë</button>
            <button class="touch-btn" id="touch-left-down">L‚Üì</button>
          </div>
          <div class="touch-col">
            <button class="touch-btn" id="touch-pause">–ü–∞—É–∑–∞</button>
          </div>
          <div class="touch-col">
            <button class="touch-btn" id="touch-right-up">R‚Üë</button>
            <button class="touch-btn" id="touch-right-down">R‚Üì</button>
          </div>
        </div>

        <div class="hint" id="control-hint">A/D ‚Äî –ª–µ–≤–∞—è —Ä–∞–∫–µ—Ç–∫–∞, —Å—Ç—Ä–µ–ª–∫–∏ ‚Äî –ø—Ä–∞–≤–∞—è. –ü—Ä–æ–±–µ–ª ‚Äî –ø–∞—É–∑–∞.</div>
      </section>

      <aside class="sidebar">
        <section class="panel panel-match">
          <h2 id="match-panel-title">–°—Ç–∞—Ç—É—Å –º–∞—Ç—á–∞</h2>
          <div class="hud sidebar-hud" id="hud">
            <div class="hud-item">
              <span class="hud-label" id="hud-label-mode">–†–µ–∂–∏–º</span>
              <span class="hud-value" id="hud-mode">2 –∏–≥—Ä–æ–∫–∞</span>
            </div>
            <div class="hud-item">
              <span class="hud-label" id="hud-label-score">–°—á–µ—Ç</span>
              <span class="hud-value" id="hud-score">0 - 0</span>
              <span class="hud-sub" id="hud-target">–î–æ 7</span>
            </div>
            <div class="hud-item">
              <span class="hud-label" id="hud-label-speed">–°–∫–æ—Ä–æ—Å—Ç—å</span>
              <span class="hud-value" id="hud-speed">0</span>
              <div class="hud-bar"><div class="hud-bar-fill" id="hud-speed-bar"></div></div>
            </div>
            <div class="hud-item">
              <span class="hud-label" id="hud-label-rally">–°–µ—Ä–∏—è</span>
              <span class="hud-value" id="hud-rally">0</span>
            </div>
            <div class="hud-item">
              <span class="hud-label" id="hud-label-rank">–†–∞–Ω–≥</span>
              <span class="hud-value" id="hud-rank">Kernel</span>
            </div>
          </div>
        </section>

        <section class="panel">
          <h2 id="leaderboard-title">–¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤</h2>
          <div class="leaderboard-tabs">
            <button id="tab-week" class="tab active">–≠—Ç–∞ –Ω–µ–¥–µ–ª—è</button>
            <button id="tab-all" class="tab">–ó–∞ –≤—Å–µ –≤—Ä–µ–º—è</button>
            <button id="tab-rating" class="tab">–†–µ–π—Ç–∏–Ω–≥</button>
          </div>
          <div class="week-label" id="week-label"></div>
          <ol id="leaderboard"></ol>
        </section>

        <section class="panel">
          <h2 id="profile-title">–ü—Ä–æ—Ñ–∏–ª—å –∏–≥—Ä–æ–∫–∞</h2>
          <div class="profile-summary" id="profile-summary">–í–æ–π–¥–∏—Ç–µ, —á—Ç–æ–±—ã –≤–∏–¥–µ—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å.</div>
          <div class="streak-line" id="streak-line"></div>
          <div class="badge-grid" id="badge-grid"></div>
        </section>

        <section class="panel">
          <h2 id="daily-title">–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ —á–µ–ª–ª–µ–Ω–¥–∂–∏</h2>
          <ul class="daily-list" id="daily-list"></ul>
        </section>

        <section class="panel">
          <h2 id="history-title">–ò—Å—Ç–æ—Ä–∏—è –º–∞—Ç—á–µ–π</h2>
          <ol class="history-list" id="history-list"></ol>
        </section>
      </aside>
    </main>
  </div>

  <div class="lang-switcher" id="lang-switcher">
    <button class="lang-trigger" id="lang-trigger" type="button" aria-haspopup="true" aria-expanded="false" aria-label="–°–º–µ–Ω–∏—Ç—å —è–∑—ã–∫">
      <span class="lang-globe" aria-hidden="true">üåê</span>
      <span class="lang-current" id="lang-current">RU</span>
    </button>
    <div class="lang-menu hidden" id="lang-menu" role="menu" aria-label="–í—ã–±–æ—Ä —è–∑—ã–∫–∞">
      <button class="lang-option" data-lang="ru" type="button" role="menuitem">–†—É—Å—Å–∫–∏–π</button>
      <button class="lang-option" data-lang="en" type="button" role="menuitem">English</button>
      <button class="lang-option" data-lang="zh" type="button" role="menuitem">‰∏≠Êñá</button>
    </div>
  </div>

  <div class="velocity-aura" aria-hidden="true"></div>
  <div class="code-rain" aria-hidden="true"></div>
  <div class="toast-layer" id="toast-layer"></div>
  <div class="grain"></div>

  <div class="overlay hidden" id="overlay">
    <div class="particle-field" id="particle-field"></div>
    <div class="overlay-demo" aria-hidden="true">
      <div class="demo-field">
        <div class="demo-paddle demo-left"></div>
        <div class="demo-paddle demo-right"></div>
        <div class="demo-ball"></div>
      </div>
    </div>

    <div class="card onboarding-card">
      <h2 id="overlay-title">Pong</h2>
      <p id="overlay-score">–ü–æ–¥–≥–æ—Ç–æ–≤–∏–º –∏–≥—Ä—É –ø–æ —à–∞–≥–∞–º.</p>
      <div class="setup-steps" id="setup-steps">
        <span class="setup-step active" id="step-pill-auth">–≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞</span>
        <span class="setup-step" id="step-pill-setup">–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</span>
      </div>

      <div id="step-auth" class="onboarding-step">
        <div class="auth-title" id="auth-screen-title">–≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞</div>
        <div class="field">
          <label for="ob-email" id="label-email">–ü–æ—á—Ç–∞</label>
          <input id="ob-email" type="email" placeholder="you@example.com" />
        </div>
        <div class="field">
          <label for="ob-password" id="label-password">–ü–∞—Ä–æ–ª—å</label>
          <input id="ob-password" type="password" placeholder="–ú–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤" />
        </div>
        <div class="field">
          <label for="ob-nickname" id="label-nickname">–ù–∏–∫</label>
          <input id="ob-nickname" type="text" placeholder="–ò–≥—Ä–æ–∫" />
        </div>
        <div class="row">
          <button id="btn-signin">–í–æ–π—Ç–∏</button>
          <button id="btn-signup" class="secondary">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</button>
        </div>
        <div class="row">
          <button id="btn-auth-guest" class="ghost">–ò–≥—Ä–∞—Ç—å –∫–∞–∫ –≥–æ—Å—Ç—å</button>
        </div>
        <div class="guest-warn" id="guest-warn">–ì–æ—Å—Ç—å: —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è.</div>
        <div class="auth-note" id="auth-message"></div>
      </div>

      <div id="step-setup" class="onboarding-step hidden">
        <div class="auth-title" id="main-menu-title">–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</div>
        <div class="session-panel">
          <div class="session-line" id="session-line">–°—Ç–∞—Ç—É—Å —Å–µ—Å—Å–∏–∏: ...</div>
          <div class="row session-row">
            <button id="btn-open-auth" class="ghost">–í–æ–π—Ç–∏ / —Å–º–µ–Ω–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
            <button id="btn-logout" class="ghost">–í—ã–π—Ç–∏</button>
          </div>
          <div class="guest-session-banner hidden" id="guest-session-banner">
            –í—ã –∑–∞—à–ª–∏ –∫–∞–∫ –≥–æ—Å—Ç—å. –ß—Ç–æ–±—ã —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî –≤–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö.
          </div>
        </div>

        <div class="mode-grid">
          <button id="btn-mode-ai" class="mode-card" data-mode="ai">
            <span class="mode-title" id="mode-ai-title">–° —Ä–æ–±–æ—Ç–æ–º</span>
            <span class="mode-desc" id="mode-ai-desc">–ë–∞–∑–æ–≤—ã–π —Å–æ–ª–æ-–º–∞—Ç—á –ø—Ä–æ—Ç–∏–≤ –Ω–µ–π—Ä–æ—Å–µ—Ç–∏</span>
          </button>
          <button id="btn-mode-ranked" class="mode-card secondary" data-mode="ranked">
            <span class="mode-title" id="mode-ranked-title">–†–µ–π—Ç–∏–Ω–≥</span>
            <span class="mode-desc" id="mode-ranked-desc">–°–ª–æ–∂–Ω—ã–π —Ä–µ–∂–∏–º —Å –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ —Ç–∞–±–ª–∏—Ü—É</span>
          </button>
          <button id="btn-mode-pvp" class="mode-card ghost" data-mode="pvp">
            <span class="mode-title" id="mode-pvp-title">2 –∏–≥—Ä–æ–∫–∞</span>
            <span class="mode-desc" id="mode-pvp-desc">–õ–æ–∫–∞–ª—å–Ω–∞—è –¥—É—ç–ª—å –Ω–∞ –æ–¥–Ω–æ–π –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ</span>
          </button>
          <button id="btn-mode-blitz" class="mode-card secondary" data-mode="blitz">
            <span class="mode-title" id="mode-blitz-title">–ë–ª–∏—Ü</span>
            <span class="mode-desc" id="mode-blitz-desc">–ë—ã—Å—Ç—Ä—ã–π –º–∞—Ç—á –¥–æ 5 —Å –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–º —Ç–µ–º–ø–æ–º</span>
          </button>
          <button id="btn-mode-training" class="mode-card ghost" data-mode="training">
            <span class="mode-title" id="mode-training-title">–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</span>
            <span class="mode-desc" id="mode-training-desc">–î–ª–∏–Ω–Ω—ã–π –º–∞—Ç—á —Å –º—è–≥–∫–∏–º –ò–ò –∏ –±–æ–ª—å—à–∏–º –º—è—á–æ–º</span>
          </button>
          <button id="btn-mode-arcade" class="mode-card" data-mode="arcade">
            <span class="mode-title" id="mode-arcade-title">–ê—Ä–∫–∞–¥–∞+</span>
            <span class="mode-desc" id="mode-arcade-desc">PvP –¥–æ 11, —Ç–µ–º–ø –≤—ã—à–µ –∏ –ø–ª–æ—Ç–Ω–∞—è –¥–∏–Ω–∞–º–∏–∫–∞</span>
          </button>
          <button id="btn-mode-bet" class="mode-card secondary" data-mode="bet">
            <span class="mode-title" id="mode-bet-title">Bet Mode</span>
            <span class="mode-desc" id="mode-bet-desc">–°—Ç–∞–≤–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤ –Ω–∞ –∏—Å—Ö–æ–¥ –º–∞—Ç—á–∞ –ø—Ä–æ—Ç–∏–≤ Hard –ò–ò</span>
          </button>
        </div>
        <div class="mode-summary" id="mode-summary">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–∂–∏–º, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å.</div>

        <div class="mode-extras">
          <div class="extras-title" id="extras-title-match">–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –º–∞—Ç—á–∞</div>
          <div class="field compact">
            <label for="match-target" id="label-match-target">–¶–µ–ª—å –º–∞—Ç—á–∞</label>
            <select id="match-target">
              <option value="auto" selected id="opt-target-auto">–ê–≤—Ç–æ (–ø–æ —Ä–µ–∂–∏–º—É)</option>
              <option value="5" id="opt-target-5">–î–æ 5</option>
              <option value="7" id="opt-target-7">–î–æ 7</option>
              <option value="11" id="opt-target-11">–î–æ 11</option>
              <option value="15" id="opt-target-15">–î–æ 15</option>
            </select>
          </div>
          <div class="field compact">
            <label for="match-ai-level" id="label-match-ai-level">–°–ª–æ–∂–Ω–æ—Å—Ç—å –Ω–µ–π—Ä–æ—Å–µ—Ç–∏</label>
            <select id="match-ai-level">
              <option value="auto" selected id="opt-ai-auto">–ê–≤—Ç–æ (–ø–æ —Ä–µ–∂–∏–º—É)</option>
              <option value="0" id="opt-ai-0">–õ–µ–≥–∫–æ</option>
              <option value="1" id="opt-ai-1">–ù–æ—Ä–º–∞–ª—å–Ω–æ</option>
              <option value="2" id="opt-ai-2">–°–ª–æ–∂–Ω–æ</option>
            </select>
          </div>
          <div class="field compact">
            <label for="match-tempo" id="label-match-tempo">–¢–µ–º–ø –º–∞—Ç—á–∞</label>
            <select id="match-tempo">
              <option value="auto" selected id="opt-tempo-auto">–ê–≤—Ç–æ (–ø–æ —Ä–µ–∂–∏–º—É)</option>
              <option value="0.9" id="opt-tempo-09">–°–ø–æ–∫–æ–π–Ω—ã–π</option>
              <option value="1.0" id="opt-tempo-10">–°—Ç–∞–Ω–¥–∞—Ä—Ç</option>
              <option value="1.1" id="opt-tempo-11">–ë—ã—Å—Ç—Ä—ã–π</option>
              <option value="1.18" id="opt-tempo-118">–¢—É—Ä–±–æ</option>
            </select>
          </div>
          <div class="field compact is-hidden" id="bet-field">
            <label for="match-bet" id="label-match-bet">–°—Ç–∞–≤–∫–∞</label>
            <select id="match-bet">
              <option value="25" id="opt-bet-25">25 TOK</option>
              <option value="50" id="opt-bet-50">50 TOK</option>
              <option value="100" id="opt-bet-100" selected>100 TOK</option>
              <option value="200" id="opt-bet-200">200 TOK</option>
            </select>
          </div>
          <div class="setup-lock-note" id="bet-note"></div>
          <div class="setup-lock-note" id="setup-lock-note"></div>

          <div class="extras-title" id="extras-title-mods">–ú–æ–¥–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã</div>
          <label class="checkbox"><input type="checkbox" id="mod-fast" /><span id="mod-fast-label">–°–∫–æ—Ä–æ—Å—Ç–Ω–æ–π –º—è—á</span></label>
          <label class="checkbox"><input type="checkbox" id="mod-big" /><span id="mod-big-label">–ë–æ–ª—å—à–æ–π –º—è—á</span></label>
          <label class="checkbox"><input type="checkbox" id="mod-narrow" /><span id="mod-narrow-label">–£–∑–∫–∏–µ —Ä–∞–∫–µ—Ç–∫–∏</span></label>

          <div class="extras-title" id="extras-title-theme">–¢–µ–º–∞</div>
          <div class="row theme-row">
            <button id="theme-neon" data-theme="neon">–ù–µ–æ–Ω</button>
            <button id="theme-ghost" class="secondary" data-theme="ghost">–ì–æ—É—Å—Ç</button>
            <button id="theme-circuit" class="ghost" data-theme="circuit">–°—Ö–µ–º–∞</button>
            <button id="theme-matrix" class="secondary" data-theme="matrix">Matrix</button>
            <button id="theme-ember" class="ghost" data-theme="ember">Ember</button>
          </div>

          <div class="extras-title" id="extras-title-sound">–ó–≤—É–∫</div>
          <select id="audio-profile">
            <option value="soft" id="audio-opt-soft">–ú—è–≥–∫–∏–π</option>
            <option value="arcade" selected id="audio-opt-arcade">–ê—Ä–∫–∞–¥–∞</option>
            <option value="techno" id="audio-opt-techno">–¢–µ—Ö–Ω–æ</option>
          </select>

          <div class="row">
            <button id="btn-start-game">–ó–∞–ø—É—Å—Ç–∏—Ç—å –∏–≥—Ä—É</button>
            <button id="btn-back-auth" class="ghost">–≠–∫—Ä–∞–Ω –≤—Ö–æ–¥–∞</button>
          </div>
        </div>
        <div class="hint-small" id="hint-ranked">–í —Ä–µ–π—Ç–∏–Ω–≥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–µ–π—Ä–æ—Å–µ—Ç—å –Ω–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ Hard.</div>
      </div>

      <div class="season-summary" id="season-summary"></div>
    </div>

    <div class="launch-transition hidden" id="launch-transition">
      <div class="launch-ring"></div>
      <div class="launch-ring second"></div>
      <div class="launch-grid"></div>
      <div class="launch-text" id="launch-text">SYNCHRONIZING ARENA...</div>
    </div>
  </div>

  <div class="boot-sequence hidden" id="boot-sequence">
    <div class="boot-scan" aria-hidden="true"></div>
    <div class="boot-card">
      <div class="boot-kicker" id="boot-kicker">NEURAL ARENA</div>
      <h2>PONG // BOOT</h2>
      <p id="boot-line">–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —è–¥—Ä–∞...</p>
      <div class="boot-progress">
        <div class="boot-progress-fill" id="boot-progress-fill"></div>
      </div>
      <div class="boot-actions">
        <button id="boot-skip" class="ghost">–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å</button>
      </div>
    </div>
  </div>

  <script>
    const gameCanvas = document.getElementById("canvas");
    var Module = {
      canvas: gameCanvas,
      keyboardListeningElement: gameCanvas,
      doNotCaptureKeyboard: true,
      noInitialRun: true,
    };
  </script>
  <script src="config.js?v=20260228-28"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="app.js?v=20260228-28"></script>

  {{{ SCRIPT }}}
</body>
</html>
